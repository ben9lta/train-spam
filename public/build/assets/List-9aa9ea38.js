import{r as l,j as e}from"./app-3d82188f.js";import{S as g,T as t,P as y}from"./Tooltip-78463a86.js";import C from"./Edit-da8156fe.js";import{S as b}from"./SpamTypeHelper-95368d74.js";function P(){const[a,i]=l.useState({}),[r,x]=l.useState(1),[h,d]=l.useState(!1),[c,o]=l.useState(null),j=()=>{n(r)},u=s=>{o(s)},f=()=>{o(null)},m=s=>{x(s),a.path&&n(s)},n=s=>{d(!0),axios.post(route("spam.paginate",s)).then(p=>{i(p.data)}).finally(()=>{d(!1)})};return l.useEffect(()=>n(r),[]),l.useEffect(()=>{},[r]),l.useEffect(()=>{},[a]),e.jsx("div",{className:"p-4 sm:p-8 bg-white shadow sm:rounded-lg",children:h?e.jsxs("div",{className:"text-center",children:[e.jsx(g,{size:"md"})," Загрузка..."]}):e.jsxs(e.Fragment,{children:[c&&e.jsx(C,{closeModal:f,item:c,refresh:j}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(t,{children:[e.jsxs(t.Head,{children:[e.jsx(t.HeadCell,{children:"№"}),e.jsx(t.HeadCell,{style:{minWidth:"24rem"},children:"Текст"}),e.jsx(t.HeadCell,{children:"Категория"}),e.jsx(t.HeadCell,{children:"Действия"})]}),e.jsx(t.Body,{className:"divide-y",children:(a==null?void 0:a.data)&&a.data.map(s=>e.jsxs(t.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(t.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:s==null?void 0:s.id}),e.jsx(t.Cell,{className:"break-all",children:(s==null?void 0:s.text.substring(0,250))+"..."}),e.jsx(t.Cell,{children:b.translate(s==null?void 0:s.spam_type)}),e.jsx(t.Cell,{children:e.jsx("a",{className:"font-medium text-cyan-600 hover:underline dark:text-cyan-500",onClick:()=>u(s),href:"#",children:e.jsx("p",{children:"Изменить"})})})]},s.id))})]})}),e.jsx("div",{className:"flex items-center justify-center text-center",children:(a==null?void 0:a.data)&&(a==null?void 0:a.total)>0&&e.jsx(y,{currentPage:r,onPageChange:m,totalPages:a==null?void 0:a.last_page,nextLabel:"Далее",previousLabel:"Назад"})})]})})}export{P as default};
