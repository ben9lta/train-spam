import{r as t,j as e}from"./app-654f339c.js";import{S as g,T as l,P as C}from"./Tooltip-8101c9c1.js";import{t as y}from"./SpamTypeHelper-2257c8a0.js";import b from"./Delete-9ca15a7c.js";function k(){const[a,x]=t.useState({}),[r,i]=t.useState(1),[h,d]=t.useState(!1),[c,o]=t.useState(null),j=s=>{o(s)},u=()=>{o(null)},f=()=>{n(r)},m=s=>{i(s),a.path&&n(s)},n=s=>{d(!0),axios.post(route("spam.incoming.paginate",s)).then(p=>{x(p.data)}).finally(()=>{d(!1)})};return t.useEffect(()=>n(r),[]),t.useEffect(()=>{},[r]),t.useEffect(()=>{},[a]),e.jsx("div",{className:"p-4 sm:p-8 bg-white shadow sm:rounded-lg",children:h?e.jsxs("div",{className:"text-center",children:[e.jsx(g,{size:"md"})," Загрузка..."]}):e.jsxs(e.Fragment,{children:[c&&e.jsx(b,{closeModal:u,item:c,refresh:f}),e.jsxs(l,{children:[e.jsxs(l.Head,{children:[e.jsx(l.HeadCell,{children:"№"}),e.jsx(l.HeadCell,{children:"Текст"}),e.jsx(l.HeadCell,{children:"Категория"}),e.jsx(l.HeadCell,{children:"Данные с запроса"}),e.jsx(l.HeadCell,{children:"Действия"})]}),e.jsx(l.Body,{className:"divide-y",children:(a==null?void 0:a.data)&&a.data.map(s=>e.jsxs(l.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(l.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:s==null?void 0:s.id}),e.jsx(l.Cell,{className:"break-all",children:(s==null?void 0:s.text.substring(0,250))+"..."}),e.jsx(l.Cell,{children:y(s==null?void 0:s.spam_type)}),e.jsx(l.Cell,{children:s==null?void 0:s.request}),e.jsx(l.Cell,{children:e.jsx("a",{className:"font-medium text-cyan-600 hover:underline dark:text-cyan-500",onClick:()=>j(s),href:"#",children:e.jsx("p",{children:"Удалить"})})})]},s.id))})]}),e.jsx("div",{className:"flex items-center justify-center text-center",children:(a==null?void 0:a.data)&&(a==null?void 0:a.total)>0&&e.jsx(C,{currentPage:r,onPageChange:m,totalPages:a==null?void 0:a.last_page,nextLabel:"Далее",previousLabel:"Назад"})})]})})}export{k as default};
