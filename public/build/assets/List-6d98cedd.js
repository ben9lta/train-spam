import{r as l,j as e}from"./app-654f339c.js";import{S as g,T as a,P as C}from"./Tooltip-8101c9c1.js";import y from"./Edit-648cf2a5.js";import{t as b}from"./SpamTypeHelper-2257c8a0.js";function k(){const[t,i]=l.useState({}),[r,x]=l.useState(1),[h,d]=l.useState(!1),[c,o]=l.useState(null),j=()=>{n(r)},u=s=>{o(s)},f=()=>{o(null)},m=s=>{x(s),t.path&&n(s)},n=s=>{d(!0),axios.post(route("spam.paginate",s)).then(p=>{i(p.data)}).finally(()=>{d(!1)})};return l.useEffect(()=>n(r),[]),l.useEffect(()=>{},[r]),l.useEffect(()=>{},[t]),e.jsx("div",{className:"p-4 sm:p-8 bg-white shadow sm:rounded-lg",children:h?e.jsxs("div",{className:"text-center",children:[e.jsx(g,{size:"md"})," Загрузка..."]}):e.jsxs(e.Fragment,{children:[c&&e.jsx(y,{closeModal:f,item:c,refresh:j}),e.jsxs(a,{children:[e.jsxs(a.Head,{children:[e.jsx(a.HeadCell,{children:"№"}),e.jsx(a.HeadCell,{children:"Текст"}),e.jsx(a.HeadCell,{children:"Категория"}),e.jsx(a.HeadCell,{children:"Действия"})]}),e.jsx(a.Body,{className:"divide-y",children:(t==null?void 0:t.data)&&t.data.map(s=>e.jsxs(a.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(a.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:s==null?void 0:s.id}),e.jsx(a.Cell,{className:"break-all",children:(s==null?void 0:s.text.substring(0,250))+"..."}),e.jsx(a.Cell,{children:b(s==null?void 0:s.spam_type)}),e.jsx(a.Cell,{children:e.jsx("a",{className:"font-medium text-cyan-600 hover:underline dark:text-cyan-500",onClick:()=>u(s),href:"#",children:e.jsx("p",{children:"Изменить"})})})]},s.id))})]}),e.jsx("div",{className:"flex items-center justify-center text-center",children:(t==null?void 0:t.data)&&(t==null?void 0:t.total)>0&&e.jsx(C,{currentPage:r,onPageChange:m,totalPages:t==null?void 0:t.last_page,nextLabel:"Далее",previousLabel:"Назад"})})]})})}export{k as default};
